<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Yazaki Guided Terminal Assembly Station</title>
  </head>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="./pic-config.css" />
  <body>
    <div class="main-content">
      <div class="header">
        <div class="">
          <img id="logo" alt="Logo" />
        </div>
        <div class="text-center">
          <h1 id="pageTitle" class="pageTitle"></h1>
        </div>
        <div class="actions">
          <div class="button-container">
            <div class="row">
              <button id="button1" class="button button-static"></button>
              <button id="button2" class="button button-static"></button>
            </div>
            <div class="row">
              <button id="button3" class="button"></button>
              <button id="button4" class="button"></button>
            </div>
          </div>
          <div class="image-container">
            <button class="user-button">
              <img id="userImage" alt="Image" />
            </button>
            <p  id="onButton"></p>
            <p  id="offButton"></p>
          </div>
          <div class="close">
            <button class="close-button">x</button>
          </div>
        </div>        
      </div>

        </body>
        </html>
        

 <div class="module-windowpic">
<div class="containers">
 <div class="big-row" >
   <div class="box-image" id="boxImage">
   
<style>
 #imageDisplay {
  width: 70%;
  height: 100%;
 
  transform: translateX(210px);
  /* Ensure the image fits while preserving aspect ratio */
}
</style>
    <img id="imageDisplay" src="#" alt="Image"> </div>
  </div>
    
  <div class="small-row">
   <style>
        input, select, button {
         width: 50%;
         box-sizing: border-box;
         padding: 5px;
         font-size: 16px;
         line-height: 1.5;
     }
     
     input[type="color"], input[type="range"] {
         width: 80%;
     }
     .container {
         display: flex;
         flex-direction: column;
     }
     
     .row {
         display: flex;
         flex-direction: row;
         
     }
     .column {
         flex: 1;
         margin: 3px;
         
     }
     
     input[type="color"] {
         width: 100%;
     }
     
     input[type="range"] {
         width: 100%;
     }
     
     button {
         width: 100%;
     }
     
     </style>
         </head>
         <body>
             <div class="container">
              <div class="row">&nbsp;</div>
                 <div class="row" style="display: flex; flex-wrap: wrap;">
                 <div class="column" style="width: 700px;" >
                     <div class="row" >
                       
                      &emsp;<label for="imageName">Image Name</label> &emsp;&emsp;&nbsp;&nbsp;
                         <div >
                         <input type="text" id="imageName" style="width: 300px;transform: translateX(5px);box-shadow: 1px 1px 1px #020000;" />
                     </div>
                     </div><BR/>
                     <div class="row" >
                      &emsp;  <label for="totalPins">Total pins</label>&emsp;&emsp;&emsp;&emsp;                   
                         <input type="number" id="totalPins" style="width: 51%; justify-content: space-around; box-shadow: 1px 1px 1px #020000;" />&nbsp;
                         <button style="background-color: red; width: 15%; justify-content: space-around;">Text Color</button>
                     </div>
                    
                     <BR/>
                     <div class="row">
                      &emsp; <label for="selectPin">Select pin</label>&emsp;&emsp;&emsp;&emsp;&nbsp;
                         <div style="justify-content: flex-start;">
                         <select id="selectPin" style="width: 145px; box-shadow: 1px 1px 1px #020000;">
                             <option value="1">1</option>
                             <option value="2">2</option>
                         </select>
                         <select id="selectPin" style="width: 149px; box-shadow: 1px 1px 1px #020000;">
                             <option value="1">1</option>
                             <option value="2">2</option>
                         </select>
                        </div>

                     
                 </div>
                 </div>
                                 
                 <div class="column" style="width: 700px;">
                  <div class="row">
                      <div class="column" style="display: flex;">
                          <label for="pointerColor">Pointer color</label>
                      </div>
                      <div class="column" style="display: flex;">
                          <input type="color" id="color1" style="background-color: rgb(255, 255, 255);box-shadow: 1px 1px 1px #020000;"></input>
                      </div>
                      <div class="column">
                        <input type="color" id="color2" style="background-color: rgb(255, 255, 255);box-shadow: 1px 1px 1px #020000;"></input>
                      </div>
                  </div><br>
                  <div class="row">
                      <div class="column">
                          <label for="pointerSize">Pointer size</label>
                          
                      </div>
                          <div class="column">
                          <input type="range" id="pointerSize" min="1" max="100" style="width: 375px; align-items: left;transform: translateX(-3%);"  />
                      </div>
                  </div><br/>
                  <div class="row">
                      <div class="column" style="display: flex;">
                          <label for="deletePoint">Delete point</label>
                      </div>
                      <div class="column" style="display: flex;">
                          <label for="selectPin"></label>
                          <select id="selectPin" style="width:195px;box-shadow: 1px 1px 1px #020000;">
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <!-- Add more options as needed -->
                          </select>
                      </div>
                      <div class="column">
                          <button id="deleteImageName" style="box-shadow: 1px 1px 1px #020000;align-items: center;justify-content: center;">Delete</button>
                      </div>
                  </div>
              </div>&emsp;&emsp;&emsp;&emsp;
              
              <div class="square-container" style="box-shadow: 1px 1px 1px #020000;">
                <div class="ring-container">
                    <div id="ring" class="ring">
                     
<span class="circle-part half-left-circle"></span>
<span class="circle-part half-right-circle"></span>
                    </div>
                </div>
            </div>
                   &emsp;&emsp;
                 
                 <div class="row">
                 
                 </div>
             </br>

                 <div class="row" style="justify-content:center; flex-direction: row; align-items: center;">
                     <div class="column">
                      <button onclick="openFileManager()" id="open" style="font-size: large;">Open</button>
                      <style>
                        #fileInput {
                          display: none;
                        }
                        </style>
                      <input type="file" id="fileInput" accept="image/jpeg, image/png">
                     </div>&emsp;
                     <div class="column">
                         <button id="save" style="font-size: large;">Save</button>
                     </div>&emsp;
                     <a href="index.html">
                     <div class="column">
                         <button id="close" style="font-size: large;">Close</button> </a>
                     </div>&nbsp;&emsp;
                    
                 </div>
             </div>
         </div>


        </div>
</div>         
        </div>
      </div>
  </body>
  <script>
    const logo = "./logo.png";
    const pageTitle = "Guided Terminal Assemble Station";
    const userImage = "./user-icon.png";
    const currentDate = new Date();
    const formattedDate = `${currentDate.getDate()}/${
      currentDate.getMonth() + 1
    }/${currentDate.getFullYear().toString().slice(-2)}`;
    const formattedTime = currentDate.toLocaleTimeString([], {
      hour: "2-digit",
      minute: "2-digit",
      second: "2-digit",
    });

    const imageContainer = document.getElementById("image-container");

    onButton.addEventListener("click", function() {
        imageContainer.style.display = "block"; // Show image when ON button is clicked
    });

    offButton.addEventListener("click", function() {
        imageContainer.style.display = "none"; // Hide image when OFF button is clicked
    });


    const button3Text = "ADMIN";
    const button4Text = "Shift-2";
    document.getElementById("pageTitle").innerHTML = pageTitle;
    document.getElementById("logo").src = logo;
    document.getElementById("userImage").src = userImage;
    document.getElementById("button1").innerHTML = formattedDate;
    document.getElementById("button2").innerHTML = formattedTime;
    document.getElementById("button3").innerHTML = button3Text;
    document.getElementById("button4").innerHTML = button4Text;
    
    function openFileManager() {
  document.getElementById('fileInput').click();
    }

    document.getElementById('fileInput').addEventListener('change', function() {
  const file = this.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(event) {
      document.getElementById('imageDisplay').src = event.target.result;
    };
    reader.readAsDataURL(file);
    document.getElementById('imageName').value = file.name;
  }
});

const pointerSizeInput = document.getElementById('pointerSize');
const ring = document.getElementById('ring');
const pointer = document.getElementById('pointer');
const boxImage = document.getElementById('boxImage');

pointerSizeInput.addEventListener('input', function() {
  let newSize = parseFloat(this.value);
  
  // Ensure newSize is within the range [0.5, 100]
  newSize = Math.min(130, Math.max(0.5, newSize));

  const ringSize = Math.min(130, Math.max(1, newSize * 2)); // Adjusted ring size range to [1px, 100px]
  const pointerPosition = 50 - (newSize / 2); // Adjust pointer position based on pointerSize value

  ring.style.width = `${ringSize}px`;
  ring.style.height = `${ringSize}px`;

  pointer.style.width = `${newSize}px`;
  pointer.style.height = `${newSize}px`;
  pointer.style.top = `calc(50% - ${pointerPosition}px)`;
  pointer.style.left = `calc(50% - ${pointerPosition}px)`;
});


const circle = document.getElementById('ring');

        function updateCircleColors(color1, color2) {
            circle.style.borderLeftColor = color1;
            circle.style.borderRightColor = color2;
            pointer.style.backgroundColor = color1;
        }

        const colorInput1 = document.getElementById('color1');
        const colorInput2 = document.getElementById('color2');
        

        colorInput1.addEventListener('input', () => {
            circle.style.borderLeftColor = colorInput1.value;
        });
        colorInput1.addEventListener('input', () => {
            circle.style.borderBottomColor  = colorInput1.value;
        });

        colorInput2.addEventListener('input', () => {
            circle.style.borderRightColor = colorInput2.value;
        });
        colorInput2.addEventListener('input', () => {
            circle.style.borderTopColor= colorInput2.value;
        });

        boxImage.addEventListener('click', function(event) {
    const boxRect = boxImage.getBoundingClientRect(); // Get the position and size of the "box-image" div

    // Calculate the offset of the click within the div, considering any padding or border
    const offsetX = event.clientX - boxRect.left - boxImage.offsetParent.offsetLeft + window.pageXOffset;
    const offsetY = event.clientY - boxRect.top - boxImage.offsetParent.offsetTop + window.pageYOffset;

    const newRing = ring.cloneNode(true); // Clone the existing ring
    newRing.style.position = 'absolute';
    newRing.style.top = `${offsetY}px`;
    newRing.style.left = `${offsetX}px`;
    
    boxImage.appendChild(newRing); // Append the new ring to the boxImage
});


</script>

</html>